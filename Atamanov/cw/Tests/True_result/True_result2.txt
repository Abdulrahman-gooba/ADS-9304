Исходные символы в кодируемом тексте и их веса:
 (3), )(1), M(1), S(1), a(1), e(3), g(1), i(1), m(1), n(1), r(1), s(1), y(2)
Строка, полученная сложением всех символов, поседующей сортировки, и сложении их весов
 ey)MSagimnrs(18)

Построение дерева Шано-Феннона
Head:  ey)MSagimnrs(18)
Узел со строкой  ey)MSagimnrs и весом 18 делится на узел со строкой ' ey)' и весом 9, который идет в левое поддерево, а также узел со строкой 'MSagimnrs' и весом 9, который идет в правое поддерево
|--- L: ' ey)'(9) Code = '0'
Узел со строкой  ey) и весом 9 делится на узел со строкой 'y)' и весом 3, который идет в левое поддерево, а также узел со строкой ' e' и весом 6, который идет в правое поддерево
|	|--- L: 'y)'(3) Code = '00'
Узел со строкой y) и весом 3 делится на узел со строкой ')' и весом 1, который идет в левое поддерево, а также узел со строкой 'y' и весом 2, который идет в правое поддерево
|	|	|--- L: ')'(1) Code = '000'
|	|	|--- R: 'y'(2) Code = '001'
|	|--- R: ' e'(6) Code = '01'
Узел со строкой  e и весом 6 делится на узел со строкой ' ' и весом 3, который идет в левое поддерево, а также узел со строкой 'e' и весом 3, который идет в правое поддерево
|	|	|--- L: ' '(3) Code = '010'
|	|	|--- R: 'e'(3) Code = '011'
|--- R: 'MSagimnrs'(9) Code = '1'
Узел со строкой MSagimnrs и весом 9 делится на узел со строкой 'mnrs' и весом 4, который идет в левое поддерево, а также узел со строкой 'MSagi' и весом 5, который идет в правое поддерево
|	|--- L: 'mnrs'(4) Code = '10'
Узел со строкой mnrs и весом 4 делится на узел со строкой 'mn' и весом 2, который идет в левое поддерево, а также узел со строкой 'rs' и весом 2, который идет в правое поддерево
|	|	|--- L: 'mn'(2) Code = '100'
Узел со строкой mn и весом 2 делится на узел со строкой 'm' и весом 1, который идет в левое поддерево, а также узел со строкой 'n' и весом 1, который идет в правое поддерево
|	|	|	|--- L: 'm'(1) Code = '1000'
|	|	|	|--- R: 'n'(1) Code = '1001'
|	|	|--- R: 'rs'(2) Code = '101'
Узел со строкой rs и весом 2 делится на узел со строкой 'r' и весом 1, который идет в левое поддерево, а также узел со строкой 's' и весом 1, который идет в правое поддерево
|	|	|	|--- L: 'r'(1) Code = '1010'
|	|	|	|--- R: 's'(1) Code = '1011'
|	|--- R: 'MSagi'(5) Code = '11'
Узел со строкой MSagi и весом 5 делится на узел со строкой 'gi' и весом 2, который идет в левое поддерево, а также узел со строкой 'MSa' и весом 3, который идет в правое поддерево
|	|	|--- L: 'gi'(2) Code = '110'
Узел со строкой gi и весом 2 делится на узел со строкой 'g' и весом 1, который идет в левое поддерево, а также узел со строкой 'i' и весом 1, который идет в правое поддерево
|	|	|	|--- L: 'g'(1) Code = '1100'
|	|	|	|--- R: 'i'(1) Code = '1101'
|	|	|--- R: 'MSa'(3) Code = '111'
Узел со строкой MSa и весом 3 делится на узел со строкой 'a' и весом 1, который идет в левое поддерево, а также узел со строкой 'MS' и весом 2, который идет в правое поддерево
|	|	|	|--- L: 'a'(1) Code = '1110'
|	|	|	|--- R: 'MS'(2) Code = '1111'
Узел со строкой MS и весом 2 делится на узел со строкой 'M' и весом 1, который идет в левое поддерево, а также узел со строкой 'S' и весом 1, который идет в правое поддерево
|	|	|	|	|--- L: 'M'(1) Code = '11110'
|	|	|	|	|--- R: 'S'(1) Code = '11111'
Полученное дерево:
Head:  ey)MSagimnrs(18)
|--- L: ' ey)'(9) Code = '0'
|	|--- L: 'y)'(3) Code = '00'
|	|	|--- L: ')'(1) Code = '000'
|	|	|--- R: 'y'(2) Code = '001'
|	|--- R: ' e'(6) Code = '01'
|	|	|--- L: ' '(3) Code = '010'
|	|	|--- R: 'e'(3) Code = '011'
|--- R: 'MSagimnrs'(9) Code = '1'
|	|--- L: 'mnrs'(4) Code = '10'
|	|	|--- L: 'mn'(2) Code = '100'
|	|	|	|--- L: 'm'(1) Code = '1000'
|	|	|	|--- R: 'n'(1) Code = '1001'
|	|	|--- R: 'rs'(2) Code = '101'
|	|	|	|--- L: 'r'(1) Code = '1010'
|	|	|	|--- R: 's'(1) Code = '1011'
|	|--- R: 'MSagi'(5) Code = '11'
|	|	|--- L: 'gi'(2) Code = '110'
|	|	|	|--- L: 'g'(1) Code = '1100'
|	|	|	|--- R: 'i'(1) Code = '1101'
|	|	|--- R: 'MSa'(3) Code = '111'
|	|	|	|--- L: 'a'(1) Code = '1110'
|	|	|	|--- R: 'MS'(2) Code = '1111'
|	|	|	|	|--- L: 'M'(1) Code = '11110'
|	|	|	|	|--- R: 'S'(1) Code = '11111'
Полученная таблица кодов для символов:
 (010), )(000), M(11110), S(11111), a(1110), e(011), g(1100), i(1101), m(1000), n(1001), r(1010), s(1011), y(001)

------------------------------------------------------------------------------------------------------
Ход алгоритма Хаффмана
s(1), r(1), n(1), m(1), i(1), g(1), a(1), S(1), M(1), )(1), y(2), e(3),  (3)
Первые два узла: 's'(1) и 'r'(1) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'rs' с весом 2
n(1), m(1), i(1), g(1), a(1), S(1), M(1), )(1), y(2), rs(2), e(3),  (3)
Первые два узла: 'n'(1) и 'm'(1) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'mn' с весом 2
i(1), g(1), a(1), S(1), M(1), )(1), y(2), rs(2), mn(2), e(3),  (3)
Первые два узла: 'i'(1) и 'g'(1) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'gi' с весом 2
a(1), S(1), M(1), )(1), y(2), rs(2), mn(2), gi(2), e(3),  (3)
Первые два узла: 'a'(1) и 'S'(1) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'Sa' с весом 2
M(1), )(1), y(2), rs(2), mn(2), gi(2), Sa(2), e(3),  (3)
Первые два узла: 'M'(1) и ')'(1) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел ')M' с весом 2
y(2), rs(2), mn(2), gi(2), Sa(2), )M(2), e(3),  (3)
Первые два узла: 'y'(2) и 'rs'(2) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'rsy' с весом 4
mn(2), gi(2), Sa(2), )M(2), e(3),  (3), rsy(4)
Первые два узла: 'mn'(2) и 'gi'(2) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'gimn' с весом 4
Sa(2), )M(2), e(3),  (3), rsy(4), gimn(4)
Первые два узла: 'Sa'(2) и ')M'(2) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел ')MSa' с весом 4
e(3),  (3), rsy(4), gimn(4), )MSa(4)
Первые два узла: 'e'(3) и ' '(3) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел ' e' с весом 6
rsy(4), gimn(4), )MSa(4),  e(6)
Первые два узла: 'rsy'(4) и 'gimn'(4) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел 'gimnrsy' с весом 8
)MSa(4),  e(6), gimnrsy(8)
Первые два узла: ')MSa'(4) и ' e'(6) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел ' )MSae' с весом 10
gimnrsy(8),  )MSae(10)
На последнем шаге оставшиеся два узла:  )MSaegimnrsy(18) и  )MSae(10) складываются вместе: складываются сами строки, сортируются в лексикографическом порядке, а также складываются их веса.
Получается узел  )MSaegimnrsy с весом 18, который и является головой полученного дерева
 )MSaegimnrsy(18)

Дерево Хаффмана, полученное при работе алгоритма Хаффмана
Head: ysrnmigaSM)e (18)
|--- L: 'ysrnmig'(8) Code = '0'
|	|--- L: 'ysr'(4) Code = '00'
|	|	|--- L: 'y'(2) Code = '000'
|	|	|--- R: 'sr'(2) Code = '001'
|	|	|	|--- L: 's'(1) Code = '0010'
|	|	|	|--- R: 'r'(1) Code = '0011'
|	|--- R: 'nmig'(4) Code = '01'
|	|	|--- L: 'nm'(2) Code = '010'
|	|	|	|--- L: 'n'(1) Code = '0100'
|	|	|	|--- R: 'm'(1) Code = '0101'
|	|	|--- R: 'ig'(2) Code = '011'
|	|	|	|--- L: 'i'(1) Code = '0110'
|	|	|	|--- R: 'g'(1) Code = '0111'
|--- R: 'aSM)e '(10) Code = '1'
|	|--- L: 'aSM)'(4) Code = '10'
|	|	|--- L: 'aS'(2) Code = '100'
|	|	|	|--- L: 'a'(1) Code = '1000'
|	|	|	|--- R: 'S'(1) Code = '1001'
|	|	|--- R: 'M)'(2) Code = '101'
|	|	|	|--- L: 'M'(1) Code = '1010'
|	|	|	|--- R: ')'(1) Code = '1011'
|	|--- R: 'e '(6) Code = '11'
|	|	|--- L: 'e'(3) Code = '110'
|	|	|--- R: ' '(3) Code = '111'
Полученная таблица кодов для символов:
 (111), )(1011), M(1010), S(1001), a(1000), e(110), g(0111), i(0110), m(0101), n(0100), r(0011), s(0010), y(000)
------------------------------------------------------------------------------------------------------
Шифрование:
Шифрование происходит путем обращения к кодам, созданным ранее. Берется символ, её код ищется в таблице и заменяется в тексте на этот символ
С помощью таблицы Фано-Шеннона:
My name is Sergey)
Текущий символ: M ,его код: 11110
11110y name is Sergey)
Текущий символ: y ,его код: 001
11110001 name is Sergey)
Текущий символ:   ,его код: 010
11110001010name is Sergey)
Текущий символ: n ,его код: 1001
111100010101001ame is Sergey)
Текущий символ: a ,его код: 1110
1111000101010011110me is Sergey)
Текущий символ: m ,его код: 1000
11110001010100111101000e is Sergey)
Текущий символ: e ,его код: 011
11110001010100111101000011 is Sergey)
Текущий символ:   ,его код: 010
11110001010100111101000011010is Sergey)
Текущий символ: i ,его код: 1101
111100010101001111010000110101101s Sergey)
Текущий символ: s ,его код: 1011
1111000101010011110100001101011011011 Sergey)
Текущий символ:   ,его код: 010
1111000101010011110100001101011011011010Sergey)
Текущий символ: S ,его код: 11111
111100010101001111010000110101101101101011111ergey)
Текущий символ: e ,его код: 011
111100010101001111010000110101101101101011111011rgey)
Текущий символ: r ,его код: 1010
1111000101010011110100001101011011011010111110111010gey)
Текущий символ: g ,его код: 1100
11110001010100111101000011010110110110101111101110101100ey)
Текущий символ: e ,его код: 011
11110001010100111101000011010110110110101111101110101100011y)
Текущий символ: y ,его код: 001
11110001010100111101000011010110110110101111101110101100011001)
Текущий символ: ) ,его код: 000

С помощью таблицы Хаффмана:
My name is Sergey)
Текущий символ: M ,его код: 1010
1010y name is Sergey)
Текущий символ: y ,его код: 000
1010000 name is Sergey)
Текущий символ:   ,его код: 111
1010000111name is Sergey)
Текущий символ: n ,его код: 0100
10100001110100ame is Sergey)
Текущий символ: a ,его код: 1000
101000011101001000me is Sergey)
Текущий символ: m ,его код: 0101
1010000111010010000101e is Sergey)
Текущий символ: e ,его код: 110
1010000111010010000101110 is Sergey)
Текущий символ:   ,его код: 111
1010000111010010000101110111is Sergey)
Текущий символ: i ,его код: 0110
10100001110100100001011101110110s Sergey)
Текущий символ: s ,его код: 0010
101000011101001000010111011101100010 Sergey)
Текущий символ:   ,его код: 111
101000011101001000010111011101100010111Sergey)
Текущий символ: S ,его код: 1001
1010000111010010000101110111011000101111001ergey)
Текущий символ: e ,его код: 110
1010000111010010000101110111011000101111001110rgey)
Текущий символ: r ,его код: 0011
10100001110100100001011101110110001011110011100011gey)
Текущий символ: g ,его код: 0111
101000011101001000010111011101100010111100111000110111ey)
Текущий символ: e ,его код: 110
101000011101001000010111011101100010111100111000110111110y)
Текущий символ: y ,его код: 000
101000011101001000010111011101100010111100111000110111110000)
Текущий символ: ) ,его код: 1011
Окончательная закодированная строка:
11110001010100111101000011010110110110101111101110101100011001000
------------------------------------------------------------------------------------------------------
Декодирование:
Декодирование происходит в порядке, обратном кодированию: код заменяется соответствующим символом
С помощью таблицы Шеннона-Фано:
11110001010100111101000011010110110110101111101110101100011001000
Текущий код: '11110', символ, соответствующий коду: 'M'
M001010100111101000011010110110110101111101110101100011001000
Текущий код: '001', символ, соответствующий коду: 'y'
My010100111101000011010110110110101111101110101100011001000
Текущий код: '010', символ, соответствующий коду: ' '
My 100111101000011010110110110101111101110101100011001000
Текущий код: '1001', символ, соответствующий коду: 'n'
My n11101000011010110110110101111101110101100011001000
Текущий код: '1110', символ, соответствующий коду: 'a'
My na1000011010110110110101111101110101100011001000
Текущий код: '1000', символ, соответствующий коду: 'm'
My nam011010110110110101111101110101100011001000
Текущий код: '011', символ, соответствующий коду: 'e'
My name010110110110101111101110101100011001000
Текущий код: '010', символ, соответствующий коду: ' '
My name 110110110101111101110101100011001000
Текущий код: '1101', символ, соответствующий коду: 'i'
My name i10110101111101110101100011001000
Текущий код: '1011', символ, соответствующий коду: 's'
My name is0101111101110101100011001000
Текущий код: '010', символ, соответствующий коду: ' '
My name is 1111101110101100011001000
Текущий код: '11111', символ, соответствующий коду: 'S'
My name is S01110101100011001000
Текущий код: '011', символ, соответствующий коду: 'e'
My name is Se10101100011001000
Текущий код: '1010', символ, соответствующий коду: 'r'
My name is Ser1100011001000
Текущий код: '1100', символ, соответствующий коду: 'g'
My name is Serg011001000
Текущий код: '011', символ, соответствующий коду: 'e'
My name is Serge001000
Текущий код: '001', символ, соответствующий коду: 'y'
My name is Sergey000
Текущий код: '000', символ, соответствующий коду: ')'
Окончательный вариант:
My name is Sergey)

С помощью таблицы Хаффмена:
1010000111010010000101110111011000101111001110001101111100001011
Текущий код: '1010', символ, соответствующий коду: 'M'
M000111010010000101110111011000101111001110001101111100001011
Текущий код: '000', символ, соответствующий коду: 'y'
My111010010000101110111011000101111001110001101111100001011
Текущий код: '111', символ, соответствующий коду: ' '
My 010010000101110111011000101111001110001101111100001011
Текущий код: '0100', символ, соответствующий коду: 'n'
My n10000101110111011000101111001110001101111100001011
Текущий код: '1000', символ, соответствующий коду: 'a'
My na0101110111011000101111001110001101111100001011
Текущий код: '0101', символ, соответствующий коду: 'm'
My nam110111011000101111001110001101111100001011
Текущий код: '110', символ, соответствующий коду: 'e'
My name111011000101111001110001101111100001011
Текущий код: '111', символ, соответствующий коду: ' '
My name 011000101111001110001101111100001011
Текущий код: '0110', символ, соответствующий коду: 'i'
My name i00101111001110001101111100001011
Текущий код: '0010', символ, соответствующий коду: 's'
My name is1111001110001101111100001011
Текущий код: '111', символ, соответствующий коду: ' '
My name is 1001110001101111100001011
Текущий код: '1001', символ, соответствующий коду: 'S'
My name is S110001101111100001011
Текущий код: '110', символ, соответствующий коду: 'e'
My name is Se001101111100001011
Текущий код: '0011', символ, соответствующий коду: 'r'
My name is Ser01111100001011
Текущий код: '0111', символ, соответствующий коду: 'g'
My name is Serg1100001011
Текущий код: '110', символ, соответствующий коду: 'e'
My name is Serge0001011
Текущий код: '000', символ, соответствующий коду: 'y'
My name is Sergey1011
Текущий код: '1011', символ, соответствующий коду: ')'
Окончательный вариант:
My name is Sergey)
